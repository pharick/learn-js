<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Slider</title>
    <style>
        body {
            margin: 100px;
        }

        .slider {
            width: 350px;
            height: 20px;
            margin: 0 auto;
            background-color: cadetblue;
            position: relative;
        }

        .thumb {
            width: 20px;
            height: 20px;
            background-color: deeppink;
            position: absolute;
            top: 0;
            left: 0;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div id="slider" class="slider">
        <div class="thumb"></div>
    </div>

    <script>
        function Slider(elem, { min = 0, max = 100, val = 0 } = {}) {
            const slider = elem;
            const thumb = slider.querySelector(".thumb");
            
            const stepWidth = (slider.offsetWidth - thumb.offsetWidth) / (max - min);

            if (val < min) val = min;
            else if (val > max) val = max;

            setVal(val);

            thumb.addEventListener("mousedown", () => {
                document.addEventListener("mousemove", moveThumb);
            });

            document.addEventListener("mouseup", () => {
                document.removeEventListener("mousemove", moveThumb);
            });
            
            function moveThumb(e) {
                let left = e.clientX - slider.getBoundingClientRect().left - thumb.offsetWidth / 2;
                
                if (left < 0) {
                    left = 0;
                } else if (left > slider.offsetWidth - thumb.offsetWidth) {
                    left = slider.offsetWidth - thumb.offsetWidth;
                }
                
                thumb.style.left = left + "px";
                val = Math.round(left / stepWidth + min);
            }

            function setVal(n) {
                thumb.style.left = (n - min) * stepWidth + "px";
            }

            function getVal() {
                return val;
            }
        }

        const slider = new Slider(document.getElementById("slider"), { min: 40, max: 120 });
    </script>
</body>
</html>